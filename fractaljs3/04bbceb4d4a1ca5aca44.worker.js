!function(r){function t(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return r[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var e={};return t.m=r,t.c=e,t.i=function(r){return r},t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s=4)}([function(r,t,e){"use strict";function n(r){return r&&r.__esModule?r:{default:r}}function a(r){return r.smooth&&r.type in f.default?f.default[r.type]:i.default[r.type]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=e(2),i=n(o),u=e(3),f=n(u)},function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var r={ALL:100,DEBUG:100,INFO:200,WARN:300,ERROR:400,OFF:500},t={},e=console,a=function(){},o=function(t){return this.error=t<=r.ERROR?e.error.bind(e,"["+this.id+"] - ERROR - %s"):a,this.warn=t<=r.WARN?e.warn.bind(e,"["+this.id+"] - WARN - %s"):a,this.info=t<=r.INFO?e.info.bind(e,"["+this.id+"] - INFO - %s"):a,this.debug=t<=r.DEBUG?e.log.bind(e,"["+this.id+"] - DEBUG - %s"):a,this.log=e.log.bind(e,"["+this.id+"] %s"),this.currentLevel=t,this};return r.get=function(r){var e=t[r];if(!e){var a={id:r,level:o};a.level(n.ALL),e=a.log;for(var i in a)e[i]=a[i];t[r]=e}return e},r}();t.default=n},function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=4;t.default={mandelbrot:function(r,t,e){for(var a=0,o=0,i=0,u=0,f=0;f<e&&i+u<=n;++f)o=(a+a)*o+t,a=i-u+r,i=a*a,u=o*o;return f},burningship:function(r,t,e){var a,o,i=0,u=0,f=0,l=0,d=0;for(t=-t;(o=(i+i)*u+t,a=f-l+r,i=Math.abs(a),u=Math.abs(o),!(++d>=e))&&(f=i*i,l=u*u,!(f+l>n)););return d},mandelbrot3:function(r,t,e){for(var a,o,i=0,u=0,f=0,l=0,d=0;(a=f*i-3*i*l+r,o=3*f*u-l*u+t,i=a,u=o,!(++d>=e))&&(f=i*i,l=u*u,!(f+l>n)););return d},mandelbrot4:function(r,t,e){for(var a,o,i=0,u=0,f=0,l=0,d=0;(a=f*f-6*f*l+l*l+r,o=4*f*i*u-4*i*l*u+t,i=a,u=o,!(++d>=e))&&(f=i*i,l=u*u,!(f+l>n)););return d},tippetts:function(r,t,e){for(var a=0,o=0,i=0,u=0,f=0;f<e&&i+u<=n;++f)a=i-u+r,o=(a+a)*o+t,i=a*a,u=o*o;return f}}},function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=4,a=1/Math.log(2),o=1/Math.log(4);t.default={mandelbrot:function(r,t,e){for(var o=0,i=0,u=0,f=0,l=0,d=0;l<e&&u+f<=n;++l)i=(o+o)*i+t,o=u-f+r,u=o*o,f=i*i;if(l===e)return l;for(d=0;d<4;++d)i=(o+o)*i+t,o=u-f+r,u=o*o,f=i*i;return 5+l-Math.log(Math.log(u+f))*a},mandelbrot3:function(r,t,e){for(var a,i,u,f=0,l=0,d=0,s=0,c=0;(i=d*f-3*f*s+r,u=3*d*l-s*l+t,f=i,l=u,!(++c>=e))&&(d=f*f,s=l*l,!(d+s>n)););if(c===e)return c;for(a=0;a<4;++a)i=d*f-3*f*s+r,u=3*d*l-s*l+t,f=i,l=u,d=f*f,s=l*l;return 5+c-Math.log(Math.log(d+s))*o},mandelbrot4:function(r,t,e){for(var a,i,u=0,f=0,l=0,d=0,s=0;(a=l*l-6*l*d+d*d+r,i=4*l*u*f-4*u*d*f+t,u=a,f=i,!(++s>=e))&&(l=u*u,d=f*f,!(l+d>n)););return s===e?s:5+s-Math.log(Math.log(l+d))*o},burningship:function(r,t,e){var o,i,u,f=0,l=0,d=0,s=0,c=0;for(t=-t;(u=(f+f)*l+t,i=d-s+r,f=Math.abs(i),l=Math.abs(u),!(++c>=e))&&(d=f*f,s=l*l,!(d+s>n)););if(c===e)return c;for(o=0;o<4;++o)u=(f+f)*l+t,i=d-s+r,f=Math.abs(i),l=Math.abs(u),d=f*f,s=l*l;return 5+c-Math.log(Math.log(d+s))*a}}},function(r,t,e){"use strict";function n(r){return r&&r.__esModule?r:{default:r}}var a=e(1),o=n(a),i=e(0),u=n(i),f=o.default.get("worker").level(o.default.WARN),l="worker-?";f.debug("definition");var d=function(r,t,e){var n,a,o,i,u,f=e.buffer,l=0;for(a=e.y1;a<=e.y2;a++)for(o=(e.x1+.5)*r.a+(a+.5)*r.c+r.e,i=(e.x1+.5)*r.b+(a+.5)*r.d+r.f,n=e.x1;n<=e.x2;n++)u=t(o,i,r.iter),u===r.iter?f[l++]=0:f[l++]=u,o+=r.a,i+=r.b},s=function(r,t,e,n){var a,o,i,u,f,l=e.buffer,d=0;for(o=e.y1;o<=e.y2;o+=n)for(d=(o-e.y1)*e.width,a=e.x1;a<=e.x2;a+=n)i=(a+n/2)*r.a+(o+n/2)*r.c+r.e,u=(a+n/2)*r.b+(o+n/2)*r.d+r.f,f=t(i,u,r.iter),f===r.iter?l[d]=0:l[d]=f,d+=n;for(d=0,o=0;o<e.height;o++)for(a=0;a<e.width;a++)o%n===0&&a%n===0||(l[d]=l[(o-o%n)*e.width+a-a%n]),d++},c=function(r,t,e,n){var a,o,i,u,f,l,d,s,c,b=e.buffer,h=Math.sqrt(r.a*r.a+r.b*r.b),v=n*n,g=h/n,p=0;for(o=e.y1;o<=e.y2;o++)for(a=e.x1;a<=e.x2;a++){for(i=(a+.5)*r.a+(o+.5)*r.c+r.e-g/2,u=(a+.5)*r.b+(o+.5)*r.d+r.f-g/2,f=0,c=0;c<v;c++)l=i+Math.trunc(c/n)*g,d=u+c%n*g,f+=t(l,d,r.iter);s=f/v,b[p++]=s===r.iter?0:s}};onmessage=function(r){var t=r.data;switch(f.debug("received",t.action,t),t.action){case"init":l="worker-"+t.id,f=o.default.get("worker-"+t.id).level(f.currentLevel),f.debug("changed ID");break;case"draw":var e=(0,u.default)(t.model);"normal"===t.params.details?d(t.model,e,t.tile):"subsampling"===t.params.details?s(t.model,e,t.tile,t.params.size):"supersampling"===t.params.details&&c(t.model,e,t.tile,t.params.size);var n={action:"end-draw",tile:t.tile,workerId:l,batchId:t.batchId};postMessage(n,[n.tile.buffer.buffer]);break;default:throw new Error("Illegal action",t)}}}]);