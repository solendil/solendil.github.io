!function(r){var t={};function e(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return r[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=r,e.c=t,e.d=function(r,t,a){e.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:a})},e.r=function(r){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&"object"===typeof r&&r&&r.__esModule)return r;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var n in r)e.d(a,n,function(t){return r[t]}.bind(null,n));return a},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="/",e(e.s=8)}([function(r,t,e){var a={"./burningbird.ts":1,"./burningship.ts":2,"./example.ts":3,"./mandelbrot.ts":4,"./mandelbrot3.ts":5,"./mandelbrot4.ts":6,"./tippetts.ts":7};function n(r){var t=o(r);return e(t)}function o(r){if(!e.o(a,r)){var t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t}return a[r]}n.keys=function(){return Object.keys(a)},n.resolve=o,r.exports=n,n.id=0},function(r,t,e){"use strict";e.r(t);var a=1/Math.log(2);t.default={fractalId:"burningbird",uiOrder:2.5,name:"Burning Bird",preset:{x:-.46,y:.07,w:3.26,iter:50},fn:{normal:(r,t,e)=>{var a,n=0,o=0,i=0,f=0,u=0;for(t=-t;a=(n+n)*o+t,n=i-f+r,o=Math.abs(a),!(++u>=e)&&!((i=n*n)+(f=o*o)>4););return u},smooth:(r,t,e)=>{var n,o,i=0,f=0,u=0,l=0,s=0;for(t=-t;o=(i+i)*f+t,i=u-l+r,f=Math.abs(o),!(++s>=e)&&!((u=i*i)+(l=f*f)>4););if(s===e)return s;for(n=0;n<4;++n)o=(i+i)*f+t,u=(i=u-l+r)*i,l=(f=Math.abs(o))*f;return 5+s-Math.log(Math.log(u+l))*a}}}},function(r,t,e){"use strict";e.r(t);var a=1/Math.log(2);t.default={fractalId:"burningship",uiOrder:2,name:"Burning Ship",preset:{x:-.4,y:.55,w:3,iter:50},fn:{normal:(r,t,e)=>{var a,n,o=0,i=0,f=0,u=0,l=0;for(t=-t;n=(o+o)*i+t,a=f-u+r,o=Math.abs(a),i=Math.abs(n),!(++l>=e)&&!((f=o*o)+(u=i*i)>4););return l},smooth:(r,t,e)=>{var n,o,i,f=0,u=0,l=0,s=0,d=0;for(t=-t;i=(f+f)*u+t,o=l-s+r,f=Math.abs(o),u=Math.abs(i),!(++d>=e)&&!((l=f*f)+(s=u*u)>4););if(d===e)return d;for(n=0;n<4;++n)i=(f+f)*u+t,o=l-s+r,l=(f=Math.abs(o))*f,s=(u=Math.abs(i))*u;return 5+d-Math.log(Math.log(l+s))*a}}}},function(r,t,e){"use strict";e.r(t),t.default={fractalId:"example",hidden:!0,uiOrder:-1,name:"example",preset:{x:-.7,y:0,w:2.5,iter:50},fn:{normal:(r,t,e)=>0,smooth:(r,t,e)=>0}}},function(r,t,e){"use strict";e.r(t);var a=1/Math.log(2);t.default={fractalId:"mandelbrot",uiOrder:0,name:"Mandelbrot",preset:{x:-.7,y:0,w:2.5,iter:50},fn:{normal:(r,t,e)=>{for(var a=0,n=0,o=0,i=0,f=0;f<e&&o+i<=4;++f)n=(a+a)*n+t,o=(a=o-i+r)*a,i=n*n;return f},smooth:(r,t,e)=>{for(var n=0,o=0,i=0,f=0,u=0,l=0;u<e&&i+f<=4;++u)o=(n+n)*o+t,i=(n=i-f+r)*n,f=o*o;if(u===e)return u;for(l=0;l<4;++l)o=(n+n)*o+t,i=(n=i-f+r)*n,f=o*o;return 5+u-Math.log(Math.log(i+f))*a}}}},function(r,t,e){"use strict";e.r(t);var a=1/Math.log(4);t.default={fractalId:"mandelbrot3",uiOrder:3,name:"Multibrot *3",preset:{x:0,y:0,w:3,iter:50},fn:{normal:(r,t,e)=>{for(var a=0,n=0,o=0,i=0,f=0;a=o*a-3*a*i+r,n=3*o*n-i*n+t,!(++f>=e)&&!((o=a*a)+(i=n*n)>4););return f},smooth:(r,t,e)=>{for(var n,o,i=0,f=0,u=0,l=0,s=0;i=u*i-3*i*l+r,f=o=3*u*f-l*f+t,!(++s>=e)&&!((u=i*i)+(l=f*f)>4););if(s===e)return s;for(n=0;n<4;++n)o=3*u*f-l*f+t,u=(i=u*i-3*i*l+r)*i,l=(f=o)*f;return 5+s-Math.log(Math.log(u+l))*a}}}},function(r,t,e){"use strict";e.r(t);var a=1/Math.log(4);t.default={fractalId:"mandelbrot4",uiOrder:4,name:"Multibrot *4",preset:{x:0,y:0,w:3,iter:50},fn:{normal:(r,t,e)=>{for(var a,n=0,o=0,i=0,f=0,u=0;a=4*i*n*o-4*n*f*o+t,n=i*i-6*i*f+f*f+r,o=a,!(++u>=e)&&!((i=n*n)+(f=o*o)>4););return u},smooth:(r,t,e)=>{for(var n,o=0,i=0,f=0,u=0,l=0;n=4*f*o*i-4*o*u*i+t,o=f*f-6*f*u+u*u+r,i=n,!(++l>=e)&&!((f=o*o)+(u=i*i)>4););return l===e?l:5+l-Math.log(Math.log(f+u))*a}}}},function(r,t,e){"use strict";e.r(t);t.default={fractalId:"tippetts",uiOrder:1,name:"Tippetts",preset:{x:-.5,y:0,w:4,iter:50},fn:{normal:(r,t,e)=>{for(var a=0,n=0,o=0,i=0,f=0;f<e&&o+i<=4;++f)o=(a=o-i+r)*a,i=(n=(a+a)*n+t)*n;return f}}}},function(r,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return i}));const a=e(0),n={};a.keys().forEach(r=>{const t=a(r).default;n[t.fractalId]=t});let o="worker-?";self.onmessage=r=>{const t=r.data;switch(t.action){case"init":o="worker-".concat(t.id);break;case"draw":{const r=((r,t)=>{const e=n[r];return t&&e.fn.smooth||e.fn.normal})(t.model.type,t.model.smooth);"normal"===t.params.details?((r,t,e)=>{var a,n,o,i,f,u=e.buffer,l=0;for(n=e.y1;n<=e.y2;n++)for(o=(e.x1+.5)*r.a+(n+.5)*r.c+r.e,i=(e.x1+.5)*r.b+(n+.5)*r.d+r.f,a=e.x1;a<=e.x2;a++)(f=t(o,i,r.iter))===r.iter?u[l++]=0:u[l++]=f,o+=r.a,i+=r.b})(t.model,r,t.tile):"subsampling"===t.params.details?((r,t,e,a)=>{var n,o,i,f=e.buffer,u=0;for(o=e.y1;o<=e.y2;o+=a)for(u=(o-e.y1)*e.width,n=e.x1;n<=e.x2;n+=a)(i=t((n+a/2)*r.a+(o+a/2)*r.c+r.e,(n+a/2)*r.b+(o+a/2)*r.d+r.f,r.iter))===r.iter?f[u]=0:f[u]=i,u+=a;for(u=0,o=0;o<e.height;o++)for(n=0;n<e.width;n++)o%a===0&&n%a===0||(f[u]=f[(o-o%a)*e.width+n-n%a]),u++})(t.model,r,t.tile,t.params.size||4):"supersampling"===t.params.details&&((r,t,e,a)=>{var n,o,i,f,u,l,s,d=e.buffer,c=a*a,b=Math.sqrt(r.a*r.a+r.b*r.b)/a,m=0;for(o=e.y1;o<=e.y2;o++)for(n=e.x1;n<=e.x2;n++)if(0!==d[m]||o===e.y1||o===e.y2-1||n===e.x1||n===e.y1-1||0!==d[m+1]||0!==d[m-1]||0!==d[m+e.width]||0!==d[m-e.width]){for(i=n*r.a+o*r.c+r.e+b/2,f=n*r.b+o*r.d+r.f-b/2,u=0,s=0;s<c;s++)u+=t(i+Math.trunc(s/a)*b,f-s%a*b,r.iter);l=u/c,d[m++]=l===r.iter?0:l}else m++})(t.model,r,t.tile,t.params.size||4);const e={action:"end-draw",tile:t.tile,workerId:o,batchId:t.batchId||-1};postMessage(e,[e.tile.buffer.buffer]);break}default:throw new Error("Illegal action")}};class i{}}]);
//# sourceMappingURL=cebe71a7d189dbb312b8.worker.js.map